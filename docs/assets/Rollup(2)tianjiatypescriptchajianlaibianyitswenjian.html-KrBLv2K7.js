import{_ as n,o as s,c as a,e as p}from"./app-BlhvexKe.js";const e={},t=p(`<p>在官网的教程里演示的是添加json的plugin。 那么作为举一反三的能力，我选择添加ts的plugin</p><h1 id="rollup-plugin-typescript" tabindex="-1"><a class="header-anchor" href="#rollup-plugin-typescript"><span>@rollup/plugin-typescript</span></a></h1><p>不知道怎么上手，那我先安装这个包试试。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @rollup/plugin-typescript --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>![[Pasted image 20240830175050.png]]</p><p>根据npm上的介绍，还需要安装这两个包。</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>pnpm add typescript tslib -S -D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后配置文件添加plugin的配置</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>
<span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-typescript&#39;</span><span class="token punctuation">;</span>  
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// 入口  </span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 出口  </span>
        <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>  <span class="token comment">// 打包规范  </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>npm 的介绍上说使用行内的写tsconfig的方法，我想了一下还是用文件的形式。</p><p>根目录创建tsconfig.json 文件 然后简单写入一些基础配置</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token comment">// tsconfig.json 之前测试ts的时候的配置，随便加进来的</span>
<span class="token punctuation">{</span>  
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NodeNext&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NodeNext&quot;</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;resolvePackageJsonExports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  
    <span class="token property">&quot;allowImportingTsExtensions&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同时去修改rollup的config</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// rollup.config.js</span>
<span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-typescript&#39;</span><span class="token punctuation">;</span>  
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  
    <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// 入口  </span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 出口  </span>
        <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span>  <span class="token comment">// 打包规范  </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>  
        <span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
            <span class="token literal-property property">tsconfig</span><span class="token operator">:</span> <span class="token string">&#39;./tsconfig.json&#39;</span><span class="token punctuation">,</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">]</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>看上去非常不错，那么现在pnpm run build一下，很好，报错了。。</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>[!] (plugin typescript) RollupError: [plugin typescript] @rollup/plugin-typescript: Couldn&#39;t process compiler options
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,16),o=[t];function l(i,c){return s(),a("div",null,o)}const u=n(e,[["render",l],["__file","Rollup(2)tianjiatypescriptchajianlaibianyitswenjian.html.vue"]]),d=JSON.parse('{"path":"/blogs/FrontEnd/Rollup/Rollup(2)tianjiatypescriptchajianlaibianyitswenjian.html","title":"@rollup/plugin-typescript","lang":"en-US","frontmatter":{},"headers":[],"git":{"createdTime":1725012052000,"updatedTime":1725159768000,"contributors":[{"name":"abra","email":"7328234@gmail.com","commits":1},{"name":"abra","email":"github","commits":1}]},"filePathRelative":"blogs/FrontEnd/Rollup/Rollup(2)添加typescript插件来编译ts文件.md"}');export{u as comp,d as data};
